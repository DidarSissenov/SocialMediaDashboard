{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';// Make sure to create a corresponding CSS file\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[analyticsData,setAnalyticsData]=useState({followerCount:0,engagementRate:0,totalLikes:0,totalComments:0// Add more as needed\n});useEffect(()=>{const fetchAnalyticsData=async()=>{try{const linkStatusResponse=await axios.get('/api/instagram/isLinked');if(linkStatusResponse.data.isLinked){const analyticsResponse=await axios.get('/api/instagram/analytics');setAnalyticsData(analyticsResponse.data);}}catch(error){console.error('Error:',error);// Handle errors (e.g., show an error message or a prompt to link Instagram)\n}};fetchAnalyticsData();},[]);if(!analyticsData){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading analytics...\"});// Loading state\n}const handleLinkInstagram=()=>{// Redirect user to Instagram OAuth\nwindow.location.href='/api/instagram/oauth';};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Instagram Analytics Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLinkInstagram,className:\"link-instagram-btn\",children:\"Link Instagram Account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-item\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Follower Count\"}),/*#__PURE__*/_jsx(\"p\",{children:analyticsData.followerCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-item\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Engagement Rate\"}),/*#__PURE__*/_jsxs(\"p\",{children:[analyticsData.engagementRate,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-item\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Total Likes\"}),/*#__PURE__*/_jsx(\"p\",{children:analyticsData.totalLikes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-item\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Total Comments\"}),/*#__PURE__*/_jsx(\"p\",{children:analyticsData.totalComments})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Dashboard","analyticsData","setAnalyticsData","followerCount","engagementRate","totalLikes","totalComments","fetchAnalyticsData","linkStatusResponse","get","data","isLinked","analyticsResponse","error","console","children","handleLinkInstagram","window","location","href","className","onClick"],"sources":["C:/Users/groop/social_media_dashboard/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n // Make sure to create a corresponding CSS file\r\n\r\nconst Dashboard = () => {\r\n  const [analyticsData, setAnalyticsData] = useState({\r\n    followerCount: 0,\r\n    engagementRate: 0,\r\n    totalLikes: 0,\r\n    totalComments: 0,\r\n    // Add more as needed\r\n  });\r\n\r\nuseEffect(() => {\r\n  const fetchAnalyticsData = async () => {\r\n    try {\r\n      const linkStatusResponse = await axios.get('/api/instagram/isLinked');\r\n      if (linkStatusResponse.data.isLinked) {\r\n        const analyticsResponse = await axios.get('/api/instagram/analytics');\r\n        setAnalyticsData(analyticsResponse.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      // Handle errors (e.g., show an error message or a prompt to link Instagram)\r\n    }\r\n  };\r\n\r\n  fetchAnalyticsData();\r\n}, []);\r\n\r\nif (!analyticsData) {\r\n    return <div>Loading analytics...</div>; // Loading state\r\n}\r\n\r\n\r\n  const handleLinkInstagram = () => {\r\n    // Redirect user to Instagram OAuth\r\n    window.location.href = '/api/instagram/oauth';\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h1 className=\"title\">Instagram Analytics Dashboard</h1>\r\n      <button onClick={handleLinkInstagram} className=\"link-instagram-btn\">\r\n        Link Instagram Account\r\n      </button>\r\n      <div className=\"analytics-container\">\r\n        <div className=\"analytics-item\">\r\n          <h2>Follower Count</h2>\r\n          <p>{analyticsData.followerCount}</p>\r\n        </div>\r\n\r\n        <div className=\"analytics-item\">\r\n          <h2>Engagement Rate</h2>\r\n          <p>{analyticsData.engagementRate}%</p>\r\n        </div>\r\n\r\n        <div className=\"analytics-item\">\r\n          <h2>Total Likes</h2>\r\n          <p>{analyticsData.totalLikes}</p>\r\n        </div>\r\n\r\n        <div className=\"analytics-item\">\r\n          <h2>Total Comments</h2>\r\n          <p>{analyticsData.totalComments}</p>\r\n        </div>\r\n\r\n        {/* More analytics items can be added here */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACxB;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAED,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGT,QAAQ,CAAC,CACjDU,aAAa,CAAE,CAAC,CAChBC,cAAc,CAAE,CAAC,CACjBC,UAAU,CAAE,CAAC,CACbC,aAAa,CAAE,CACf;AACF,CAAC,CAAC,CAEJZ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAC,kBAAkB,CAAG,KAAM,CAAAb,KAAK,CAACc,GAAG,CAAC,yBAAyB,CAAC,CACrE,GAAID,kBAAkB,CAACE,IAAI,CAACC,QAAQ,CAAE,CACpC,KAAM,CAAAC,iBAAiB,CAAG,KAAM,CAAAjB,KAAK,CAACc,GAAG,CAAC,0BAA0B,CAAC,CACrEP,gBAAgB,CAACU,iBAAiB,CAACF,IAAI,CAAC,CAC1C,CACF,CAAE,MAAOG,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAC9B;AACF,CACF,CAAC,CAEDN,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACN,aAAa,CAAE,CAChB,mBAAOJ,IAAA,QAAAkB,QAAA,CAAK,sBAAoB,CAAK,CAAC,CAAE;AAC5C,CAGE,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAChC;AACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,sBAAsB,CAC/C,CAAC,CAED,mBACEpB,KAAA,QAAKqB,SAAS,CAAC,WAAW,CAAAL,QAAA,eACxBlB,IAAA,OAAIuB,SAAS,CAAC,OAAO,CAAAL,QAAA,CAAC,+BAA6B,CAAI,CAAC,cACxDlB,IAAA,WAAQwB,OAAO,CAAEL,mBAAoB,CAACI,SAAS,CAAC,oBAAoB,CAAAL,QAAA,CAAC,wBAErE,CAAQ,CAAC,cACThB,KAAA,QAAKqB,SAAS,CAAC,qBAAqB,CAAAL,QAAA,eAClChB,KAAA,QAAKqB,SAAS,CAAC,gBAAgB,CAAAL,QAAA,eAC7BlB,IAAA,OAAAkB,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBlB,IAAA,MAAAkB,QAAA,CAAId,aAAa,CAACE,aAAa,CAAI,CAAC,EACjC,CAAC,cAENJ,KAAA,QAAKqB,SAAS,CAAC,gBAAgB,CAAAL,QAAA,eAC7BlB,IAAA,OAAAkB,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBhB,KAAA,MAAAgB,QAAA,EAAId,aAAa,CAACG,cAAc,CAAC,GAAC,EAAG,CAAC,EACnC,CAAC,cAENL,KAAA,QAAKqB,SAAS,CAAC,gBAAgB,CAAAL,QAAA,eAC7BlB,IAAA,OAAAkB,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBlB,IAAA,MAAAkB,QAAA,CAAId,aAAa,CAACI,UAAU,CAAI,CAAC,EAC9B,CAAC,cAENN,KAAA,QAAKqB,SAAS,CAAC,gBAAgB,CAAAL,QAAA,eAC7BlB,IAAA,OAAAkB,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBlB,IAAA,MAAAkB,QAAA,CAAId,aAAa,CAACK,aAAa,CAAI,CAAC,EACjC,CAAC,EAGH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAN,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}